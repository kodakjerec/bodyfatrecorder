import{I as C,c as o,s as u,A as _,_ as y,r as f,o as d,a as h,b as a,F as L,d as D,t as x,w,v}from"./index-68a93cab.js";import{i as N}from"./iconNumber-aa023575.js";import{d as M}from"./dayjs.min-fcc54388.js";const T=C("save",!0,function(e){return o("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[o("path",{d:"M6 9C6 7.34315 7.34315 6 9 6H34.2814L42 13.2065V39C42 40.6569 40.6569 42 39 42H9C7.34315 42 6 40.6569 6 39V9Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6",fill:e.colors[3]},null),o("path",{d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6H24.0083Z",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),o("path",{d:"M9 6H34.2814",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),o("path",{d:"M14 26H34",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),o("path",{d:"M14 34H24.0083",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),H=C("weight",!0,function(e){return o("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[o("path",{d:"M41 4H7C5.34315 4 4 5.34315 4 7V41C4 42.6569 5.34315 44 7 44H41C42.6569 44 44 42.6569 44 41V7C44 5.34315 42.6569 4 41 4Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),o("path",{d:"M12 19.0537C15.3249 15.0537 19.3249 13.0537 24 13.0537C28.6751 13.0537 32.6751 15.0537 36 19.0537",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap},null),o("path",{d:"M24 31C25.6569 31 27 29.6569 27 28C27 26.3431 25.6569 25 24 25C22.3431 25 21 26.3431 21 28C21 29.6569 22.3431 31 24 31Z",fill:e.colors[2]},null),o("path",{d:"M19 21L24.0083 28",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap},null)])}),j={name:"home",components:{Save:T,Weight:H,iconNumber:N},data(){return{recordingTable:[],recorder:{},saving:!1}},mounted(){this.recordingTable=u().getRecordingTable,this.reset()},methods:{reset(){this.recordingTable.map(e=>{switch(e.colType){case"text":this.recorder[e.colName]="";break;case"number":this.recorder[e.colName]=0;break;case"datetime-local":this.recorder[e.colName]=M().format("YYYY-MM-DDTHH:mm");break}})},randomValue(){let e="";const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let i=0;i<length;i++)e+=s.charAt(Math.floor(Math.random()*s.length));const b=new Date,c=new Date;c.setDate(c.getDate()-7);const n=new Date(c.getTime()+Math.random()*(b.getTime()-c.getTime())),l=n.getFullYear(),k=n.getMonth()+1,m=n.getDate(),g=n.getHours(),t=n.getMinutes(),r=`${l}-${k.toString().padStart(2,"0")}-${m.toString().padStart(2,"0")}T${g.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`;this.recordingTable.map(i=>{switch(i.colType){case"text":this.recorder[i.colName]=e;break;case"number":this.recorder[i.colName]=Math.round(Math.random()*200);break;case"datetime-local":this.recorder[i.colName]=M(r).format("YYYY-MM-DDTHH:mm");break}})},save(){this.saving=!0;let e="";if(this.recorder.日期||(e="日期為必要輸入欄位"),e.length>0){_().error(e,{position:"top",duration:2e3});return}u().nowLoading="Loading",u().insertBodyFatDatalist(this.recorder),_().success("儲存成功",{position:"top",duration:1e3,onClose:()=>{this.saving=!1,this.reset(),u().nowLoading=""}})},inputFocus(e){e.target.select()}}},V={class:"h-full"},S={class:"flex justify-center items-center"},W=a("p",{class:"text-2xl font-bold text-center mt-2"},"體脂紀錄",-1),F=["for"],Y={class:""},p={class:"label-xl w-1/3"},z=["type","id","onUpdate:modelValue","disabled"],B=["type","id","onUpdate:modelValue","disabled"],A=["disabled"],I=a("span",null,"SAVE",-1);function U(e,s,b,c,n,l){const k=f("weight"),m=f("icon-number"),g=f("save");return d(),h("div",V,[a("div",S,[W,o(k,{theme:"filled",size:"24",fill:"#000000",onClick:l.randomValue},null,8,["onClick"])]),(d(!0),h(L,null,D(n.recordingTable,t=>(d(),h("label",{key:t.id,for:t.colName,class:"text-gray-700 flex mt-1 items-center px-2"},[a("span",Y,[o(m,{fromId:t.id},null,8,["fromId"])]),a("span",p,x(t.colName),1),t.colType==="datetime-local"?w((d(),h("input",{key:0,type:t.colType,id:t.colName,class:"input py-2 text-lg w-1/2","onUpdate:modelValue":r=>n.recorder[t.colName]=r,onFocus:s[0]||(s[0]=r=>l.inputFocus(r)),disabled:n.saving},null,40,z)),[[v,n.recorder[t.colName]]]):w((d(),h("input",{key:1,type:t.colType,id:t.colName,class:"input py-2 w-1/2","onUpdate:modelValue":r=>n.recorder[t.colName]=r,onFocus:s[1]||(s[1]=r=>l.inputFocus(r)),disabled:n.saving},null,40,B)),[[v,n.recorder[t.colName]]])],8,F))),128)),a("button",{class:"btn font-black w-full mt-1 text-4xl text-center",onClick:s[2]||(s[2]=(...t)=>l.save&&l.save(...t)),disabled:n.saving},[o(g,{theme:"filled",size:"36",fill:"#000000"}),I],8,A)])}const q=y(j,[["render",U]]);export{q as default};
