import{I as M,c as s,s as u,A as f,_ as y,r as w,o as c,a as d,b as h,F as L,d as D,t as x,w as b,v}from"./index-227eee18.js";import{d as _}from"./dayjs.min-0e0e8d68.js";const T=M("save",!0,function(e){return s("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[s("path",{d:"M6 9C6 7.34315 7.34315 6 9 6H34.2814L42 13.2065V39C42 40.6569 40.6569 42 39 42H9C7.34315 42 6 40.6569 6 39V9Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6",fill:e.colors[3]},null),s("path",{d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6H24.0083Z",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),s("path",{d:"M9 6H34.2814",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),s("path",{d:"M14 26H34",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),s("path",{d:"M14 34H24.0083",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),N=M("weight",!0,function(e){return s("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[s("path",{d:"M41 4H7C5.34315 4 4 5.34315 4 7V41C4 42.6569 5.34315 44 7 44H41C42.6569 44 44 42.6569 44 41V7C44 5.34315 42.6569 4 41 4Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),s("path",{d:"M12 19.0537C15.3249 15.0537 19.3249 13.0537 24 13.0537C28.6751 13.0537 32.6751 15.0537 36 19.0537",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap},null),s("path",{d:"M24 31C25.6569 31 27 29.6569 27 28C27 26.3431 25.6569 25 24 25C22.3431 25 21 26.3431 21 28C21 29.6569 22.3431 31 24 31Z",fill:e.colors[2]},null),s("path",{d:"M19 21L24.0083 28",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap},null)])}),H={name:"home",components:{Save:T,Weight:N},data(){return{recordingTable:[],recorder:{},saving:!1}},mounted(){this.recordingTable=u().getRecordingTable,this.reset()},methods:{reset(){this.recordingTable.map(e=>{switch(e.colType){case"text":this.recorder[e.colName]="";break;case"number":this.recorder[e.colName]=0;break;case"datetime-local":this.recorder[e.colName]=_().format("YYYY-MM-DDTHH:mm");break}})},randomValue(){let e="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let a=0;a<length;a++)e+=n.charAt(Math.floor(Math.random()*n.length));const g=new Date,i=new Date;i.setDate(i.getDate()-7);const o=new Date(i.getTime()+Math.random()*(g.getTime()-i.getTime())),r=o.getFullYear(),k=o.getMonth()+1,m=o.getDate(),t=o.getHours(),l=o.getMinutes(),C=`${r}-${k.toString().padStart(2,"0")}-${m.toString().padStart(2,"0")}T${t.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}`;this.recordingTable.map(a=>{switch(a.colType){case"text":this.recorder[a.colName]=e;break;case"number":this.recorder[a.colName]=Math.round(Math.random()*200);break;case"datetime-local":this.recorder[a.colName]=_(C).format("YYYY-MM-DDTHH:mm");break}})},save(){this.saving=!0;let e="";if(this.recorder.日期||(e="日期為必要輸入欄位"),e.length>0){f().error(e,{position:"top",duration:2e3});return}u().nowLoading="Loading",u().insertBodyFatDatalist(this.recorder),f().success("儲存成功",{position:"top",duration:1e3,onClose:()=>{this.saving=!1,this.reset(),u().nowLoading=""}})},inputFocus(e){e.target.select()}}},j={class:"h-full"},V={class:"flex justify-center items-center"},S=h("p",{class:"text-2xl font-bold text-center mt-2"},"體脂紀錄",-1),W=["for"],F={class:"label-xl w-1/3"},Y=["type","id","onUpdate:modelValue","disabled"],z=["type","id","onUpdate:modelValue","disabled"],B=["disabled"],A=h("span",null,"SAVE",-1);function U(e,n,g,i,o,r){const k=w("weight"),m=w("save");return c(),d("div",j,[h("div",V,[S,s(k,{theme:"filled",size:"24",fill:"#000000",onClick:r.randomValue},null,8,["onClick"])]),(c(!0),d(L,null,D(o.recordingTable,t=>(c(),d("label",{key:t.id,for:t.colName,class:"text-gray-700 flex mt-1"},[h("span",F,x(t.colName),1),t.colType==="datetime-local"?b((c(),d("input",{key:0,type:t.colType,id:t.colName,class:"input py-2 text-lg w-1/2","onUpdate:modelValue":l=>o.recorder[t.colName]=l,onFocus:n[0]||(n[0]=l=>r.inputFocus(l)),disabled:o.saving},null,40,Y)),[[v,o.recorder[t.colName]]]):b((c(),d("input",{key:1,type:t.colType,id:t.colName,class:"input py-2 w-1/2","onUpdate:modelValue":l=>o.recorder[t.colName]=l,onFocus:n[1]||(n[1]=l=>r.inputFocus(l)),disabled:o.saving},null,40,z)),[[v,o.recorder[t.colName]]])],8,W))),128)),h("button",{class:"btn font-black w-full mt-1 text-4xl text-center",onClick:n[2]||(n[2]=(...t)=>r.save&&r.save(...t)),disabled:o.saving},[s(m,{theme:"filled",size:"36",fill:"#000000"}),A],8,B)])}const E=y(H,[["render",U]]);export{E as default};
