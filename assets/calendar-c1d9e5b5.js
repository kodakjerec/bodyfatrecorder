import{I as Ae,c as S,l as ue,m as We,n as y,q as Ne,o as f,a as v,u as M,x as c,b as D,h as G,F as O,d as F,y as _,z as P,t as I,B as de,C as me,s as Q,_ as ge,r as A,w as ce,i as Be,v as $e,p as He,k as Ee,A as Ue,D as je,g as Ve}from"./index-d615aa55.js";import{D as ze}from"./Delete-f5c50b77.js";import{d as Re}from"./dayjs.min-17570df9.js";const qe=Ae("close",!1,function(e){return S("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[S("path",{d:"M8 8L40 40",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),S("path",{d:"M8 40L40 8",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])});var Ge=Object.defineProperty,Qe=(e,a,t)=>a in e?Ge(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,H=(e,a,t)=>(Qe(e,typeof a!="symbol"?a+"":a,t),t);const N=()=>E(new Date),Je=(e,a,t)=>{switch(a){case"year":return new Date(e.getFullYear(),0);case"month":return new Date(e.getFullYear(),e.getMonth());case"week":return K(e,t);default:return e}},Ke=e=>[...Array(7)].map((a,t)=>x(e,t)),x=(e,a)=>new Date(e.getFullYear(),e.getMonth(),e.getDate()+a,e.getHours(),e.getMinutes(),e.getSeconds()),K=(e,a)=>x(e,(a-e.getDay()-7)%-7),Xe=(e,a)=>x(K(e,a),7),W=e=>new Date(e.getFullYear(),e.getMonth()),Ze=e=>Math.ceil(e.getDate()/7),et=(e,a,t)=>new Date(e.getFullYear()+(a=="year"?t:0),e.getMonth()+(a=="month"?t:0),e.getDate()+(a=="week"?t*7:0)),X=e=>("0"+String(e.getMonth()+1)).slice(-2),Z=e=>("0"+String(e.getDate())).slice(-2),pe=e=>e.getFullYear()+"-"+X(e),tt=e=>pe(e)+"-"+Z(e),at=e=>X(e)+"-"+Z(e),rt=(e,a,t)=>{if(e.getHours()===0&&e.getMinutes()===0&&e.getSeconds()===0)return"";if(!U()){var n=new Date().getTimezoneOffset()*6e4;return new Date(e.getTime()-n).toISOString().slice(11,16)}return e.toLocaleTimeString(a,t)},ot=(e,a,t,n)=>{const l=e.getFullYear()===a.getFullYear(),m=he(e,a),g=t!=="year"&&t!=="month";let p=[];return p.push(n[e.getMonth()]),g&&(p.push(" "),p.push(e.getDate())),l||(p.push(g?", ":" "),p.push(e.getFullYear())),!m||!l?(p.push(" – "),m||p.push(n[a.getMonth()]),g&&p.push(" ")):g&&p.push(" – "),g?(p.push(a.getDate()),p.push(", ")):p.push(" "),p.push(a.getFullYear()),p.join("")},De=(e,a)=>{const t=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate()),n=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate());return(t-n)/864e5},it=(e,a)=>!!e&&!!a&&De(e,a)===0,st=(e,a)=>!!e&&!!a&&e.getTime()===a.getTime(),he=(e,a)=>!!e&&!!a&&e.getFullYear()===a.getFullYear()&&e.getMonth()===a.getMonth(),nt=e=>W(e)<W(N()),lt=e=>W(e)>W(N()),dt=e=>E(e)>N(),ct=e=>E(e)<N(),ut=e=>e.getMonth()!==x(e,7).getMonth(),mt=e=>e.getMonth()!==x(e,1).getMonth(),fe=e=>{let a=[...Array(7)].map(t=>0);return e.split(/\D/,7).forEach((t,n)=>a[n]=Number(t)),a[1]--,new Date(a[0],a[1],a[2],a[3],a[4],a[5],a[6])},J=e=>typeof e=="string"?fe(e):new Date(e),E=e=>{const a=new Date(e);return a.setHours(0,0,0,0),a},gt=e=>e.substring(0,2),U=()=>typeof Intl<"u",pt=(e,a)=>{if(!U())return[...Array(12)].map(n=>"");const t=new Intl.DateTimeFormat(e,{month:a});return[...Array(12)].map((n,l)=>t.format(new Date(2017,l,1)))},Dt=(e,a,t)=>{if(!U())return[...Array(7)].map(l=>"");const n=new Intl.DateTimeFormat(e,{weekday:a});return[...Array(7)].map((l,m)=>n.format(new Date(2017,0,(m+1+t)%7)))},ht=()=>typeof navigator>"u"?"unk":(navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language).toLowerCase(),ft=(e,a)=>{const t=e.classes?[...e.classes]:[];return a&&t.push("isHovered"),{originalItem:e,startDate:J(e.startDate),endDate:J(e.endDate||e.startDate),classes:t,title:e.title||"Untitled",id:e.id,url:e.url,tooltip:e.tooltip??e.title}},o={addDays:x,beginningOfMonth:W,beginningOfPeriod:Je,beginningOfWeek:K,dateOnly:E,dayDiff:De,daysOfWeek:Ke,endOfWeek:Xe,formattedPeriod:ot,formattedTime:rt,fromIsoStringToLocalDate:fe,getDefaultBrowserLocale:ht,getFormattedMonthNames:pt,getFormattedWeekdayNames:Dt,incrementPeriod:et,instanceOfMonth:Ze,isFutureMonth:lt,isInFuture:dt,isInPast:ct,isLastDayOfMonth:mt,isLastInstanceOfMonth:ut,isoMonthDay:at,isoYearMonth:pe,isoYearMonthDay:tt,isPastMonth:nt,isSameDate:it,isSameDateTime:st,isSameMonth:he,languageCode:gt,normalizeItem:ft,paddedDay:Z,paddedMonth:X,supportsIntl:U,today:N,toLocalDate:J};class vt{constructor(){H(this,"currentDragItem"),H(this,"dateSelectionOrigin"),H(this,"currentHoveredItemId",""),H(this,"CalendarMath",o)}}const bt={class:"cv-header-days"},yt={key:0,class:"cv-weeknumber"},kt=["aria-multiselectable"],wt={key:0,class:"cv-weeknumber"},Pt={class:"cv-weekdays"},It=["draggable","aria-grabbed","aria-label","aria-selected","aria-dropeffect","onClick","onDragstart","onDrop","onDragover","onDragenter","onDragleave"],_t={class:"cv-day-number"},Ct=["draggable","aria-grabbed","title","onDragstart","onMouseenter","onMouseleave","onClick","innerHTML"],Mt=["draggable","aria-grabbed","title","onDragstart","onMouseenter","onMouseleave","onClick"],St=ue({__name:"CalendarView",props:{showDate:{default:void 0},displayPeriodUom:{default:"month"},displayPeriodCount:{default:1},displayWeekNumbers:{type:Boolean,default:!1},locale:{default:void 0},monthNameFormat:{default:"long"},weekdayNameFormat:{default:"short"},showTimes:{type:Boolean,default:!1},timeFormatOptions:{default:()=>({})},disablePast:{type:Boolean,default:!1},disableFuture:{type:Boolean,default:!1},enableDateSelection:{type:Boolean,default:!1},selectionStart:{default:void 0},selectionEnd:{default:void 0},enableDragDrop:{type:Boolean,default:!1},startingDayOfWeek:{default:0},items:{default:()=>[]},dateClasses:{default:()=>({})},itemTop:{default:"1.4em"},itemContentHeight:{default:"1.4em"},itemBorderHeight:{default:"2px"},periodChangedCallback:{type:Function,default:void 0},currentPeriodLabel:{default:""},currentPeriodLabelIcons:{default:"⇤-⇥"},doEmitItemMouseEvents:{type:Boolean,default:!1},enableHtmlTitles:{type:Boolean,default:!0}},emits:["period-changed","click-date","click-item","item-mouseenter","item-mouseleave","drag-start","drag-over-date","drag-enter-date","drag-leave-date","drop-on-date","date-selection","date-selection-start","date-selection-finish"],setup(e,{emit:a}){const t=e,n=We(new vt),l=y(()=>t.locale||o.getDefaultBrowserLocale()),m=y(()=>t.showDate?o.dateOnly(t.showDate):o.today()),g=y(()=>o.beginningOfPeriod(m.value,t.displayPeriodUom,t.startingDayOfWeek)),p=y(()=>o.addDays(o.incrementPeriod(g.value,t.displayPeriodUom,t.displayPeriodCount),-1)),h=y(()=>{const r=o.beginningOfWeek(o.beginningOfPeriod(g.value,"year",0),t.startingDayOfWeek),s=o.beginningOfWeek(g.value,t.startingDayOfWeek);return 1+Math.floor(o.dayDiff(r,s)/7)}),k=y(()=>o.beginningOfWeek(g.value,t.startingDayOfWeek)),j=y(()=>o.endOfWeek(p.value,t.startingDayOfWeek)),ve=y(()=>{const r=Math.floor((o.dayDiff(k.value,j.value)+1)/7);return[...Array(r)].map((s,u)=>o.addDays(k.value,u*7))}),V=y(()=>o.getFormattedMonthNames(l.value,t.monthNameFormat)),be=y(()=>o.getFormattedWeekdayNames(l.value,t.weekdayNameFormat,t.startingDayOfWeek)),z=y(()=>t.items?t.items.map(r=>o.normalizeItem(r,r.id===n.currentHoveredItemId)):[]),R=y(()=>o.beginningOfPeriod(o.today(),t.displayPeriodUom,t.startingDayOfWeek)),ye=y(()=>o.addDays(o.incrementPeriod(R.value,t.displayPeriodUom,t.displayPeriodCount),-1)),ke=y(()=>o.formattedPeriod(g.value,p.value,t.displayPeriodUom,V.value)),we=y(()=>{const r=R.value,s=g.value;return t.currentPeriodLabel?t.currentPeriodLabel==="icons"?t.currentPeriodLabelIcons[Math.sign(r.getTime()-s.getTime())+1]:t.currentPeriodLabel:o.formattedPeriod(r,ye.value,t.displayPeriodUom,V.value)}),Pe=y(()=>({previousYear:L(-12),previousPeriod:L(-1),nextPeriod:L(1),previousFullPeriod:L(-t.displayPeriodCount),nextFullPeriod:L(t.displayPeriodCount),nextYear:L(12),currentPeriod:R.value,currentPeriodLabel:we.value,periodStart:g.value,periodEnd:p.value,displayLocale:l.value,displayFirstDate:k.value,displayLastDate:j.value,monthNames:V.value,fixedItems:z.value,periodLabel:ke.value})),Ie=y(()=>({periodStart:g,periodEnd:p,displayFirstDate:k,displayLastDate:j}));Ne(()=>Ie,r=>{t.periodChangedCallback&&(a("period-changed"),t.periodChangedCallback(r,"watch"))},{immediate:!0,deep:!0});const _e=(r,s)=>{t.disablePast&&o.isInPast(r)||t.disableFuture&&o.isInFuture(r)||a("click-date",r,oe(r,r),s)},ee=(r,s)=>a("click-item",r,s),T=r=>"dow"+(r+t.startingDayOfWeek)%7,L=r=>{const s=o.incrementPeriod(g.value,t.displayPeriodUom,r),u=o.incrementPeriod(s,t.displayPeriodUom,t.displayPeriodCount);return t.disablePast&&u<=o.today()||t.disableFuture&&s>o.today()?null:s},te=(r,s)=>{n.currentHoveredItemId=r.id,t.doEmitItemMouseEvents&&a("item-mouseenter",r,s)},ae=(r,s)=>{n.currentHoveredItemId="",t.doEmitItemMouseEvents&&a("item-mouseleave",r,s)},Ce=(r,s)=>{var u,b;if(!t.enableDateSelection)return!1;(u=s.dataTransfer)==null||u.setData("text",r.toString());let i=new Image;return i.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",(b=s.dataTransfer)==null||b.setDragImage(i,10,10),n.dateSelectionOrigin=r,a("date-selection-start",q(r),s),!0},re=(r,s)=>{var u;return t.enableDragDrop?((u=s.dataTransfer)==null||u.setData("text",r.id),n.currentDragItem=r,n.dateSelectionOrigin=void 0,a("drag-start",r,s),!0):!1},q=r=>r<=n.dateSelectionOrigin?[r,n.dateSelectionOrigin]:[n.dateSelectionOrigin,r],Me=(r,s)=>{t.enableDragDrop&&a("drag-over-date",n.currentDragItem,r,s)},Se=(r,s)=>{t.enableDateSelection&&n.dateSelectionOrigin&&a("date-selection",q(r),s),t.enableDragDrop&&(a("drag-enter-date",n.currentDragItem,r,s),s.target.classList.add("draghover"))},Le=(r,s)=>{t.enableDateSelection&&t.selectionStart||!t.enableDragDrop||(a("drag-leave-date",n.currentDragItem,r,s),s.target.classList.remove("draghover"))},Oe=(r,s)=>{if(t.enableDateSelection&&n.dateSelectionOrigin){a("date-selection-finish",q(r),s);return}t.enableDragDrop&&(a("drop-on-date",n.currentDragItem,r,s),s.target.classList.remove("draghover"))},Fe=(r,s)=>r.startDate<s.startDate?-1:s.startDate<r.startDate?1:r.endDate>s.endDate?-1:s.endDate>r.endDate?1:r.id<s.id?-1:1,xe=r=>oe(r,o.addDays(r,6)),oe=(r,s)=>z.value.filter(u=>u.endDate>=r&&o.dateOnly(u.startDate)<=s,this).sort(Fe),Te=r=>!!z.value.find(s=>s.endDate>=r&&o.dateOnly(s.startDate)<=r),ie=r=>!(!t.selectionStart||!t.selectionEnd||r<o.dateOnly(t.selectionStart)||r>o.dateOnly(t.selectionEnd)),se=r=>{const s=xe(r),u=[],b=[[],[],[],[],[],[],[]];if(!s)return u;for(let i=0;i<s.length;i++){const d=Object.assign({},s[i],{classes:[...s[i].classes],itemRow:0}),w=d.startDate<r,Y=w?0:o.dayDiff(r,d.startDate),le=Math.min(7-Y,o.dayDiff(o.addDays(r,Y),d.endDate)+1);w&&d.classes.push("continued"),o.dayDiff(r,d.endDate)>6&&d.classes.push("toBeContinued"),o.isInPast(d.endDate)&&d.classes.push("past"),d.originalItem.url&&d.classes.push("hasUrl");for(let C=0;C<7;C++)if(C===Y){let $=0;for(;b[C][$];)$++;d.itemRow=$,b[C][$]=!0}else C<Y+le&&(b[C][d.itemRow]=!0);d.classes.push(`offset${Y}`),d.classes.push(`span${le}`),u.push(d)}return u},Ye=r=>{const s='<span class="startTime">'+o.formattedTime(r.startDate,l.value,t.timeFormatOptions)+"</span>";let u="";return o.isSameDateTime(r.startDate,r.endDate)||(u='<span class="endTime">'+o.formattedTime(r.endDate,l.value,t.timeFormatOptions)+"</span>"),s+u},ne=r=>t.showTimes?Ye(r)+" "+r.title:r.title,B=r=>{const s=r.itemRow,u=t.itemContentHeight,b=t.itemBorderHeight;return`calc(${t.itemTop} + ${s}*${u} + ${s}*${b})`};return(r,s)=>(f(),v("div",{"aria-label":"Calendar",class:_(["cv-wrapper",`locale-${c(o).languageCode(c(l))}`,`locale-${c(l)}`,`y${c(g).getFullYear()}`,`m${c(o).paddedMonth(c(g))}`,`period-${e.displayPeriodUom}`,`periodCount-${e.displayPeriodCount}`,{past:c(o).isPastMonth(c(g)),future:c(o).isFutureMonth(c(g)),noIntl:!c(o).supportsIntl}])},[M(r.$slots,"header",{headerProps:c(Pe)}),D("div",bt,[e.displayWeekNumbers?(f(),v("div",yt)):G("",!0),(f(!0),v(O,null,F(c(be),(u,b)=>M(r.$slots,"dayHeader",{index:T(b),label:u},()=>[(f(),v("div",{key:T(b),class:_([T(b),"cv-header-day"])},I(u),3))])),256))]),D("div",{"aria-multiselectable":e.enableDateSelection,class:"cv-weeks"},[(f(!0),v(O,null,F(c(ve),(u,b)=>(f(),v("div",{key:`${b}-week`,class:_(["cv-week",`week${b+1}`,`ws${c(o).isoYearMonthDay(u)}`])},[e.displayWeekNumbers?(f(),v("div",wt,[M(r.$slots,"weekNumber",{date:u,numberInYear:c(h)+b,numberInPeriod:b+1},()=>[D("span",null,I(c(h)+b),1)])])):G("",!0),D("div",Pt,[(f(!0),v(O,null,F(c(o).daysOfWeek(u),(i,d)=>(f(),v("div",{key:T(d),draggable:e.enableDateSelection,class:_(["cv-day",T(d),`d${c(o).isoYearMonthDay(i)}`,`d${c(o).isoMonthDay(i)}`,`d${c(o).paddedDay(i)}`,`instance${c(o).instanceOfMonth(i)}`,{today:c(o).isSameDate(i,c(o).today()),outsideOfMonth:!c(o).isSameMonth(i,c(m)),past:c(o).isInPast(i),future:c(o).isInFuture(i),last:c(o).isLastDayOfMonth(i),lastInstance:c(o).isLastInstanceOfMonth(i),hasItems:Te(i),selectionStart:c(o).isSameDate(i,e.selectionStart),selectionEnd:c(o).isSameDate(i,e.selectionEnd)},...e.dateClasses&&e.dateClasses[c(o).isoYearMonthDay(i)]||[]]),"aria-grabbed":e.enableDateSelection?ie(i):void 0,"aria-label":i.getDate().toString(),"aria-selected":ie(i),"aria-dropeffect":e.enableDragDrop&&n.currentDragItem?"move":e.enableDateSelection&&n.dateSelectionOrigin?"execute":"none",onClick:w=>_e(i,w),onDragstart:w=>Ce(i,w),onDrop:P(w=>Oe(i,w),["prevent"]),onDragover:P(w=>Me(i,w),["prevent"]),onDragenter:P(w=>Se(i,w),["prevent"]),onDragleave:P(w=>Le(i,w),["prevent"])},[D("div",_t,I(i.getDate()),1),M(r.$slots,"dayContent",{day:i})],42,It))),128)),t.enableHtmlTitles?(f(!0),v(O,{key:0},F(se(u),i=>M(r.$slots,"item",{value:i,weekStartDate:u,top:B(i)},()=>[(f(),v("div",{key:i.id,draggable:e.enableDragDrop,"aria-grabbed":e.enableDragDrop?i==n.currentDragItem:void 0,class:_([i.classes,"cv-item"]),title:i.tooltip||i.title,style:de(`top:${B(i)};${i.originalItem.style}`),onDragstart:d=>re(i,d),onMouseenter:d=>te(i,d),onMouseleave:d=>ae(i,d),onClick:P(d=>ee(i,d),["stop"]),innerHTML:ne(i)},null,46,Ct))])),256)):(f(!0),v(O,{key:1},F(se(u),i=>M(r.$slots,"item",{value:i,weekStartDate:u,top:B(i)},()=>[(f(),v("div",{key:i.id,draggable:e.enableDragDrop,"aria-grabbed":e.enableDragDrop?i==n.currentDragItem:void 0,class:_([i.classes,"cv-item"]),title:i.tooltip||i.title,style:de(`top:${B(i)};${i.originalItem.style}`),onDragstart:d=>re(i,d),onMouseenter:d=>te(i,d),onMouseleave:d=>ae(i,d),onClick:P(d=>ee(i,d),["stop"])},I(ne(i)),47,Mt)),me(" div> ")])),256))])],2))),128))],8,kt)],2))}}),Lt={class:"cv-header"},Ot={class:"cv-header-nav"},Ft=["disabled"],xt=["disabled","innerHTML"],Tt=["disabled"],Yt=["disabled"],At={class:"periodLabel"},Wt=ue({__name:"CalendarViewHeader",props:{headerProps:{type:Object,required:!0},previousYearLabel:{type:String,default:"<<"},previousPeriodLabel:{type:String,default:"<"},nextPeriodLabel:{type:String,default:">"},nextYearLabel:{type:String,default:">>"}},emits:["input"],setup(e,{emit:a}){const t=n=>a("input",n);return(n,l)=>(f(),v("div",Lt,[D("div",Ot,[D("button",{disabled:!e.headerProps.previousYear,class:"previousYear","aria-label":"Previous Year",onClick:l[0]||(l[0]=P(m=>t(e.headerProps.previousYear),["prevent"]))},I(e.previousYearLabel),9,Ft),D("button",{disabled:!e.headerProps.previousPeriod,class:"previousPeriod","aria-label":"Previous Period",onClick:l[1]||(l[1]=P(m=>t(e.headerProps.previousPeriod),["prevent"])),innerHTML:e.previousPeriodLabel},null,8,xt),D("button",{class:"currentPeriod","aria-label":"Current Period",onClick:l[2]||(l[2]=P(m=>t(e.headerProps.currentPeriod),["prevent"]))},I(e.headerProps.currentPeriodLabel),1),D("button",{disabled:!e.headerProps.nextPeriod,class:"nextPeriod","aria-label":"Next Period",onClick:l[3]||(l[3]=P(m=>t(e.headerProps.nextPeriod),["prevent"]))},I(e.nextPeriodLabel),9,Tt),D("button",{disabled:!e.headerProps.nextYear,class:"nextYear","aria-label":"Next Year",onClick:l[4]||(l[4]=P(m=>t(e.headerProps.nextYear),["prevent"]))},I(e.nextYearLabel),9,Yt)]),D("div",At,[M(n.$slots,"label",{},()=>[me(I(e.headerProps.periodLabel),1)])])]))}}),Nt={name:"calendarDialog",components:{Close:qe,Delete:ze},props:{title:{type:String,default:"體脂紀錄"},fromData:{type:Object,required:!0}},data(){return{myTitle:this.title,recordingTable:[],recorder:{},shockWindow:!1}},mounted(){this.recordingTable=Q().getRecordingTable,this.recorder=this.fromData},methods:{closeDialog(e){this.$emit("close",e)},clickWhiteSpace(){this.shockWindow=!0,setTimeout(()=>{this.shockWindow=!1,this.myTitle="一秒後關閉視窗"},50),setTimeout(()=>{this.closeDialog("")},1e3)},async deleteItem(){(await this.$swal({title:"刪除此筆紀錄？",showCancelButton:!0,confirmButtonText:"Ok"})).isConfirmed&&this.$emit("delete",this.fromData.id)},inputFocus(e){e.target.select()}}};const Bt=e=>(He("data-v-8b67bc73"),e=e(),Ee(),e),$t={class:"fixed top-10 w-full text-center px-6"},Ht={id:"model_header",class:"relative justify-center"},Et={class:"text-2xl font-bold mt-2 text-center"},Ut={id:"model_content"},jt=["for"],Vt={class:"label-xl w-1/3"},zt=["id","onUpdate:modelValue"],Rt=["type","id","onUpdate:modelValue"],qt={id:"model_footer"},Gt=Bt(()=>D("span",{class:"text-red-500"},"Delete",-1));function Qt(e,a,t,n,l,m){const g=A("close"),p=A("delete");return f(),v("div",null,[D("div",{class:"fixed left-0 top-0 w-full h-full bg-slate-100 opacity-90",onClick:a[0]||(a[0]=(...h)=>m.clickWhiteSpace&&m.clickWhiteSpace(...h))}),D("div",$t,[D("div",{class:_(["p-2 bg-white rounded border border-black",{shockWindow:l.shockWindow}])},[D("div",Ht,[D("p",Et,I(l.myTitle),1),S(g,{class:"absolute top-0 right-0",theme:"filled",size:"24",fill:"#000000",onClick:a[1]||(a[1]=h=>m.closeDialog(""))})]),D("div",Ut,[(f(!0),v(O,null,F(l.recordingTable,h=>(f(),v("label",{key:h.id,for:h.colName,class:"text-gray-700 flex mt-2"},[D("span",Vt,I(h.colName),1),h.colType==="datetime-local"?ce((f(),v("input",{key:0,id:h.colName,class:"input text-lg w-1/2","onUpdate:modelValue":k=>l.recorder[h.colName]=k,onFocus:a[2]||(a[2]=k=>m.inputFocus(k)),disabled:""},null,40,zt)),[[Be,l.recorder[h.colName]]]):ce((f(),v("input",{key:1,type:h.colType,id:h.colName,class:"input w-1/2","onUpdate:modelValue":k=>l.recorder[h.colName]=k,onFocus:a[3]||(a[3]=k=>m.inputFocus(k)),disabled:""},null,40,Rt)),[[$e,l.recorder[h.colName]]])],8,jt))),128))]),D("div",qt,[D("div",{class:"m-2",onClick:a[4]||(a[4]=(...h)=>m.deleteItem&&m.deleteItem(...h))},[S(p,{theme:"filled",size:"24",fill:"#FF0000"}),Gt])])],2)])])}const Jt=ge(Nt,[["render",Qt],["__scopeId","data-v-8b67bc73"]]);const Kt={name:"calendar",components:{CalendarView:St,CalendarViewHeader:Wt,CalendarDialog:Jt},data(){return{showDate:new Date,showDialog:!1,dialogItem:{},oldDataList:[],items:[],dateCountList:[]}},computed:{myDateClasses(){const e={};return this.dateCountList.map(a=>{switch(a.counts){case 1:e[a.startDate]=["number1"];break;case 2:e[a.startDate]=["number2"];break;case 3:e[a.startDate]=["number3"];break;default:e[a.startDate]=["numberM"];break}}),e}},mounted(){this.bringData()},methods:{bringData(){this.items=[],this.dateCountList=[],this.oldDataList=Q().getBodyFatDataList,this.oldDataList.map((e,a)=>{this.items.push({id:e.id,startDate:new Date(e.日期),title:e.日期.slice(-5),class:["purple"]});const t=Re(e.日期).format("YYYY-MM-DD");let n=this.dateCountList.find(l=>l.startDate===t);n?n.counts=parseInt(n.counts)+1:this.dateCountList.push({startDate:t,counts:1})})},setShowDate(e){this.showDate=e},clickDate(e){console.log(e)},clickItem(e){const a=this.oldDataList.find(t=>t.id===e.id);a?(this.showDialog=!0,this.dialogItem=a):Ue().error("紀錄不存在?發生了未知錯誤",{position:"top",duration:2e3})},closeDialog(e){this.showDialog=!1,this.dialogItem=null},deleteItemDialog(e){Q().deleteBodyFatDatalist(this.dialogItem),this.showDialog=!1,this.dialogItem=null,this.$nextTick(()=>{this.bringData()})}}};const Xt={class:"h-full bg-white"};function Zt(e,a,t,n,l,m){const g=A("calendar-view-header"),p=A("calendar-view"),h=A("calendar-dialog");return f(),v("div",Xt,[S(p,{"show-date":l.showDate,"time-format-options":{hour:"numeric",minute:"2-digit"},class:_(["theme-default","calendarClass"]),"current-period-label":"icons","enable-date-selection":!0,"date-classes":m.myDateClasses,onClickDate:m.clickDate,onClickItem:m.clickItem,items:l.items},{header:je(({headerProps:k})=>[S(g,{"header-props":k,onInput:m.setShowDate},null,8,["header-props","onInput"])]),_:1},8,["show-date","date-classes","onClickDate","onClickItem","items"]),l.showDialog?(f(),Ve(h,{key:0,fromData:l.dialogItem,onClose:m.closeDialog,onDelete:m.deleteItemDialog},null,8,["fromData","onClose","onDelete"])):G("",!0)])}const ra=ge(Kt,[["render",Zt],["__scopeId","data-v-4d9e8a4c"]]);export{ra as default};
